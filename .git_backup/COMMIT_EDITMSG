refactor with interface driven and server
